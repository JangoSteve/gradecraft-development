/*! tableSorter 2.4+ widgets - updated 12/19/2012 */
(function(e){e.tablesorter=e.tablesorter||{},e.tablesorter.themes={bootstrap:{table:"table table-bordered table-striped",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up",sortDesc:"icon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},e.tablesorter.storage=function(t,n,r){var i,s=!1;i={};var o=t.id||e(".tablesorter").index(e(t)),u=window.location.pathname;try{s=!!localStorage.getItem}catch(a){}e.parseJSON&&(s?i=e.parseJSON(localStorage[n])||{}:(i=document.cookie.split(/[;\s|=]/),t=e.inArray(n,i)+1,i=0!==t?e.parseJSON(i[t])||{}:{}));if(!(r&&JSON&&JSON.hasOwnProperty("stringify")))return i&&i.hasOwnProperty(u)&&i[u].hasOwnProperty(o)?i[u][o]:{};if(!i[u]||!i[u][o])i[u]||(i[u]={});i[u][o]=r,s?localStorage[n]=JSON.stringify(i):(t=new Date,t.setTime(t.getTime()+31536e6),document.cookie=n+"="+JSON.stringify(i).replace(/\"/g,'"')+"; expires="+t.toGMTString()+"; path=/")},e.tablesorter.addWidget({id:"uitheme",format:function(t){var n,r,i,s,o,u=e(t),a=t.config,f=a.widgetOptions,l="object"==typeof f.uitheme?"jui":f.uitheme||"jui",c="object"==typeof f.uitheme&&!Object.prototype.toString.call(f.uitheme).test("Array")?f.uitheme:e.tablesorter.themes[e.tablesorter.themes.hasOwnProperty(l)?l:"jui"],h=e(a.headerList),p="tr."+(f.stickyHeaders||"tablesorter-stickyHeader"),d=c.sortNone+" "+c.sortDesc+" "+c.sortAsc;a.debug&&(n=new Date);if(!u.hasClass("tablesorter-"+l)||a.theme===l||!t.hasInitialized)""!==c.even&&(f.zebra[0]+=" "+c.even),""!==c.odd&&(f.zebra[1]+=" "+c.odd),o=u.removeClass(""===a.theme?"":"tablesorter-"+a.theme).addClass("tablesorter-"+l+" "+c.table).find("tfoot"),o.length&&o.find("tr").addClass(c.footerRow).children("th, td").addClass(c.footerCells),a.theme="",h.addClass(c.header).filter(":not(.sorter-false)").hover(function(){e(this).addClass(c.hover)},function(){e(this).removeClass(c.hover)}),h.find(".tablesorter-wrapper").length||h.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),a.cssIcon&&h.find("."+a.cssIcon).addClass(c.icons),u.hasClass("hasFilters")&&h.find(".tablesorter-filter-row").addClass(c.filterRow);e.each(h,function(t){i=e(this),s=a.cssIcon?i.find("."+a.cssIcon):i,this.sortDisabled?(i.removeClass(d),s.removeClass(d+" tablesorter-icon "+c.icons)):(o=u.hasClass("hasStickyHeaders")?u.find(p).find("th").eq(t).add(i):i,r=i.hasClass(a.cssAsc)?c.sortAsc:i.hasClass(a.cssDesc)?c.sortDesc:i.hasClass(a.cssHeader)?c.sortNone:"",i[r===c.sortNone?"removeClass":"addClass"](c.active),s.removeClass(d).addClass(r))}),a.debug&&e.tablesorter.benchmark("Applying "+l+" theme",n)},remove:function(t,n,r){t=e(t);var i="object"==typeof r.uitheme?"jui":r.uitheme||"jui";r="object"==typeof r.uitheme?r.uitheme:e.tablesorter.themes[e.tablesorter.themes.hasOwnProperty(i)?i:"jui"];var s=t.children("thead").children(),o=r.sortNone+" "+r.sortDesc+" "+r.sortAsc;t.removeClass("tablesorter-"+i+" "+r.table).find(n.cssHeader).removeClass(r.header),s.unbind("mouseenter mouseleave").removeClass(r.hover+" "+o+" "+r.active).find(".tablesorter-filter-row").removeClass(r.filterRow),s.find(".tablesorter-icon").removeClass(r.icons)}}),e.tablesorter.addWidget({id:"columns",format:function(t){var n,r,i,s,o,u,a,f,l,c=e(t),h=t.config,p=h.widgetOptions,d=c.children("tbody:not(."+h.cssInfoBlock+")"),v=h.sortList,m=v.length,g=["primary","secondary","tertiary"],g=h.widgetColumns&&h.widgetColumns.hasOwnProperty("css")?h.widgetColumns.css||g:p&&p.hasOwnProperty("columns")?p.columns||g:g;u=g.length-1,a=g.join(" "),h.debug&&(o=new Date);for(l=0;l<d.length;l++)n=e.tablesorter.processTbody(t,e(d[l]),!0),r=n.children("tr"),r.each(function(){s=e(this);if("none"!==this.style.display&&(i=s.children().removeClass(a),v&&v[0]&&(i.eq(v[0][0]).addClass(g[0]),1<m)))for(f=1;f<m;f++)i.eq(v[f][0]).addClass(g[f]||g[u])}),e.tablesorter.processTbody(t,n,!1);r=!1!==p.columns_thead?"thead tr":"",!1!==p.columns_tfoot&&(r+=(""===r?"":",")+"tfoot tr");if(r.length&&(s=c.find(r).children().removeClass(a),v&&v[0]&&(s.filter('[data-column="'+v[0][0]+'"]').addClass(g[0]),1<m)))for(f=1;f<m;f++)s.filter('[data-column="'+v[f][0]+'"]').addClass(g[f]||g[u]);h.debug&&e.tablesorter.benchmark("Applying Columns widget",o)},remove:function(t,n){var r,i,s=e(t).children("tbody:not(."+n.cssInfoBlock+")"),o=(n.widgetOptions.columns||["primary","secondary","tertiary"]).join(" ");for(r=0;r<s.length;r++)i=e.tablesorter.processTbody(t,e(s[r]),!0),i.children("tr").each(function(){e(this).children().removeClass(o)}),e.tablesorter.processTbody(t,i,!1)}}),e.tablesorter.addWidget({id:"filter",format:function(t){if(t.config.parsers&&!e(t).hasClass("hasFilters")){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,w="",E=e.tablesorter,S=t.config,x=e(S.headerList),T=S.widgetOptions,N=T.filter_cssFilter||"tablesorter-filter",C=e(t).addClass("hasFilters"),k=C.children("tbody:not(."+S.cssInfoBlock+")"),L=S.parsers.length,A=[/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,RegExp(S.cssChildRow),/undefined|number/,/(^[\"|\'|=])|([\"|\'|=]$)/,/[\"\'=]/g,/[^\w,. \-()]/g,/[<>=]/g],O=x.map(function(t){return E.getData?"parsed"===E.getData(x.filter('[data-column="'+t+'"]:last'),S.headers[t],"filter"):e(this).hasClass("filter-parsed")}).get(),M,_,D=function(t){var n=e.isArray(t),r=C.find("thead").eq(0).children("tr").find("select."+N+", input."+N),i=n?t:r.map(function(){return e(this).val()||""}).get(),s=(i||[]).join("");n&&r.each(function(n,r){e(r).val(t[n]||"")}),!0===T.filter_hideFilters&&C.find(".tablesorter-filter-row").trigger(""===s?"mouseleave":"mouseenter");if(w!==s||!1===t){if(C.trigger("filterStart",[i]),!S.showProcessing)return P(t,i,s),!1;setTimeout(function(){return P(t,i,s),!1},30)}},P=function(s,u,l){var c,h,p,d,y,N,M;S.debug&&(M=new Date);for(i=0;i<k.length;i++){s=e.tablesorter.processTbody(t,e(k[i]),!0),c=s.children("tr"),y=c.length;if(""===l||T.filter_serversideFiltering)c.show().removeClass("filtered");else for(r=0;r<y;r++)if(!A[1].test(c[r].className)){d=!0,p=c.eq(r).nextUntil("tr:not(."+S.cssChildRow+")"),g=p.length&&(T&&T.hasOwnProperty("filter_childRows")&&"undefined"!=typeof T.filter_childRows?T.filter_childRows:1)?p.text():"",g=T.filter_ignoreCase?g.toLocaleLowerCase():g,h=c.eq(r).children("td");for(n=0;n<L;n++)if(u[n]){a=T.filter_useParsedData||O[n]?S.cache[i].normalized[r][n]:e.trim(h.eq(n).text()),f=!A[2].test(typeof a)&&T.filter_ignoreCase?a.toLocaleLowerCase():a,N=d,o=T.filter_ignoreCase?u[n].toLocaleLowerCase():u[n];if(T.filter_functions&&T.filter_functions[n])!0===T.filter_functions[n]?N=x.filter('[data-column="'+n+'"]:last').hasClass("filter-match")?0<=f.search(o):u[n]===a:"function"==typeof T.filter_functions[n]?N=T.filter_functions[n](a,S.cache[i].normalized[r][n],u[n],n):"function"==typeof T.filter_functions[n][u[n]]&&(N=T.filter_functions[n][u[n]](a,S.cache[i].normalized[r][n],u[n],n));else if(A[0].test(o)){v=A[0].exec(o);try{N=RegExp(v[1],v[2]).test(f)}catch(_){N=!1}}else A[3].test(o)&&f===o.replace(A[4],"")?N=!0:/^\!/.test(o)?(o=o.replace("!",""),m=f.search(e.trim(o)),N=""===o?!0:!(T.filter_startsWith?0===m:0<=m)):/^[<>]=?/.test(o)?(v=isNaN(f)?e.tablesorter.formatFloat(f.replace(A[5],""),t):e.tablesorter.formatFloat(f,t),m=e.tablesorter.formatFloat(o.replace(A[5],"").replace(A[6],""),t),/>/.test(o)&&(N=/>=/.test(o)?v>=m:v>m),/</.test(o)&&(N=/<=/.test(o)?v<=m:v<m)):/[\?|\*]/.test(o)?N=RegExp(o.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(f):(a=(f+g).indexOf(o),N=!T.filter_startsWith&&0<=a||T.filter_startsWith&&0===a);d=N?d?!0:!1:!1}c[r].style.display=d?"":"none",c.eq(r)[d?"removeClass":"addClass"]("filtered"),p.length&&p[d?"show":"hide"]()}e.tablesorter.processTbody(t,s,!1)}w=l,S.debug&&E.benchmark("Completed filter widget search",M),C.trigger("applyWidgets"),C.trigger("filterEnd")},H=function(n,o){var u,a=[];n=parseInt(n,10),u='<option value="">'+(x.filter('[data-column="'+n+'"]:last').attr("data-placeholder")||"")+"</option>";for(i=0;i<k.length;i++){s=S.cache[i].row.length;for(r=0;r<s;r++)T.filter_useParsedData?a.push(""+S.cache[i].normalized[r][n]):(g=S.cache[i].row[r][0].cells[n])&&a.push(e.trim(S.supportsTextContent?g.textContent:e(g).text()))}a=e.grep(a,function(t,n){return e.inArray(t,a)===n}),a=E.sortText?a.sort(function(e,r){return E.sortText(t,e,r,n)}):a.sort(!0);for(i=0;i<a.length;i++)u+='<option value="'+a[i]+'">'+a[i]+"</option>";C.find("thead").find("select."+N+'[data-column="'+n+'"]')[o?"html":"append"](u)},B=function(e){for(n=0;n<L;n++)g=x.filter('[data-column="'+n+'"]:last'),g.hasClass("filter-select")&&!g.hasClass("filter-false")&&(!T.filter_functions||!0!==T.filter_functions[n])&&(T.filter_functions||(T.filter_functions={}),T.filter_functions[n]=!0,H(n,e))};S.debug&&(M=new Date),T.filter_ignoreCase=!1!==T.filter_ignoreCase,T.filter_useParsedData=!0===T.filter_useParsedData;if(!1!==T.filter_columnFilters&&x.filter(".filter-false").length!==x.length){g='<tr class="tablesorter-filter-row">';for(n=0;n<L;n++)d=!1,d=x.filter('[data-column="'+n+'"]:last'),u=T.filter_functions&&T.filter_functions[n]&&"function"!=typeof T.filter_functions[n]||d.hasClass("filter-select"),g+="<td>",g=u?g+('<select data-column="'+n+'" class="'+N):g+('<input type="search" placeholder="'+(d.attr("data-placeholder")||"")+'" data-column="'+n+'" class="'+N),d=E.getData?"false"===E.getData(d[0],S.headers[n],"filter"):S.headers[n]&&S.headers[n].hasOwnProperty("filter")&&!1===S.headers[n].filter||d.hasClass("filter-false"),g+=d?' disabled" disabled':'"',g+=(u?"></select>":">")+"</td>";C.find("thead").eq(0).append(g+="</tr>")}C.bind(["addRows","updateCell","update","appendCache","search"].join(".tsfilter "),function(e,t){return"search"!==e.type&&B(!0),D("search"===e.type?t:""),!1}).find("input."+N).bind("keyup search",function(e,t){if(!(32>e.which&&8!==e.which||37<=e.which&&40>=e.which)){if("undefined"!=typeof t)return D(t),!1;clearTimeout(_),_=setTimeout(function(){D()},T.filter_searchDelay||300)}}),T.filter_reset&&e(T.filter_reset).length&&e(T.filter_reset).bind("click",function(){return C.find("."+N).val(""),D(),!1});if(T.filter_functions)for(y in T.filter_functions)if(T.filter_functions.hasOwnProperty(y)&&"string"==typeof y)if(g=x.filter('[data-column="'+y+'"]:last'),u="",!0===T.filter_functions[y]&&!g.hasClass("filter-false"))H(y);else if("string"==typeof y&&!g.hasClass("filter-false")){for(c in T.filter_functions[y])"string"==typeof c&&(u+=""===u?'<option value="">'+(g.attr("data-placeholder")||"")+"</option>":"",u+='<option value="'+c+'">'+c+"</option>");C.find("thead").find("select."+N+'[data-column="'+y+'"]').append(u)}B(),C.find("select."+N).bind("change search",function(){D()}),!0===T.filter_hideFilters&&C.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(t){var n;h=e(this),clearTimeout(l),l=setTimeout(function(){/enter|over/.test(t.type)?h.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==h[0]&&(n=C.find("."+(T.filter_cssFilter||"tablesorter-filter")).map(function(){return e(this).val()||""}).get().join(""),""===n&&h.addClass("hideme"))},200)}).find("input, select").bind("focus blur",function(t){p=e(this).closest("tr"),clearTimeout(l),l=setTimeout(function(){""===C.find("."+(T.filter_cssFilter||"tablesorter-filter")).map(function(){return e(this).val()||""}).get().join("")&&p["focus"===t.type?"removeClass":"addClass"]("hideme")},200)}),S.showProcessing&&C.bind("filterStart filterEnd",function(t,n){var r=n?C.find("."+S.cssHeader).filter("[data-column]").filter(function(){return""!==n[e(this).data("column")]}):"";E.isProcessing(C[0],"filterStart"===t.type,n?r:"")}),S.debug&&E.benchmark("Applying Filter widget",M),C.trigger("filterInit")}},remove:function(t,n,r){var i,s;i=e(t),n=i.children("tbody:not(."+n.cssInfoBlock+")"),i.removeClass("hasFilters").unbind(["addRows","updateCell","update","appendCache","search"].join(".tsfilter")).find(".tablesorter-filter-row").remove();for(i=0;i<n.length;i++)s=e.tablesorter.processTbody(t,e(n[i]),!0),s.children().removeClass("filtered").show(),e.tablesorter.processTbody(t,s,!1);r.filterreset&&e(r.filter_reset).unbind("click")}}),e.tablesorter.addWidget({id:"stickyHeaders",format:function(t){if(!e(t).hasClass("hasStickyHeaders")){var n=e(t).addClass("hasStickyHeaders"),r=t.config,i=r.widgetOptions,s=e(window),o=e(t).children("thead:first"),u=o.children("tr:not(.sticky-false)").children();t=i.stickyHeaders||"tablesorter-stickyHeader";var a=u.eq(0).parent(),f=n.find("tfoot"),i=n.clone(),l=i.children("thead:first").addClass(t).css({width:o.outerWidth(!0),position:"fixed",margin:0,top:0,visibility:"hidden",zIndex:1}),c=l.children("tr:not(.sticky-false)").children(),h="",p=0,d=function(){var t=navigator.userAgent;p=0,"collapse"!==n.css("border-collapse")&&!/(webkit|msie)/i.test(t)&&(p=2*parseInt(u.eq(0).css("border-left-width"),10)),l.css({left:o.offset().left-s.scrollLeft()-p,width:o.outerWidth()}),c.each(function(t){t=u.eq(t),e(this).css({width:t.width()-p,height:t.height()})}).find(".tablesorter-header-inner").each(function(t){t=u.eq(t).find(".tablesorter-header-inner").width(),e(this).width(t)})};i.find("thead:gt(0),tr.sticky-false,tbody,tfoot,caption").remove(),i.css({height:0,width:0,padding:0,margin:0,border:0}),l.find("tr.sticky-false").remove(),c.find(".tablesorter-resizer").remove(),n.bind("sortEnd.tsSticky",function(){u.each(function(t){t=c.eq(t),t.attr("class",e(this).attr("class")),r.cssIcon&&t.find("."+r.cssIcon).attr("class",e(this).find("."+r.cssIcon).attr("class"))})}).bind("pagerComplete.tsSticky",function(){d()}),u.find("*").andSelf().filter(r.selectorSort).each(function(t){var n=e(this);c.eq(t).bind("mouseup",function(e){n.trigger(e,!0)}).bind("mousedown",function(){return this.onselectstart=function(){return!1},!1})}),n.after(i),s.bind("scroll.tsSticky",function(){var e=a.offset(),t=s.scrollTop(),r=n.height()-(l.height()+(f.height()||0)),e=t>e.top&&t<e.top+r?"visible":"hidden";l.css({left:o.offset().left-s.scrollLeft()-p,visibility:e}),e!==h&&(d(),h=e)}).bind("resize.tsSticky",function(){d()})}},remove:function(t,n,r){t=e(t),r=r.stickyHeaders||"tablesorter-stickyHeader",t.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find("."+r).remove(),e(window).unbind("scroll.tsSticky resize.tsSticky")}}),e.tablesorter.addWidget({id:"resizable",format:function(t){if(!e(t).hasClass("hasResizable")){e(t).addClass("hasResizable");var n,r,i,s,o,u=e(t),a=t.config,f=a.widgetOptions,l=0,c=null,h=null,p=function(){l=0,c=h=null,e(window).trigger("resize")};if(i=e.tablesorter.storage&&!1!==f.resizable?e.tablesorter.storage(t,"tablesorter-resizable"):{})for(r in i)!isNaN(r)&&r<a.headerList.length&&e(a.headerList[r]).width(i[r]);u.children("thead:first").find("tr").each(function(){s=e(this).children(),e(this).find(".tablesorter-wrapper").length||s.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),s=s.slice(0,-1),o=o?o.add(s):s}),o.each(function(){n=e(this),r=parseInt(n.css("padding-right"),10)+8,n.find(".tablesorter-wrapper").append('<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;height:100%;width:16px;right:-'+r+'px;top:0;z-index:1;"></div>')}).bind("mousemove.tsresize",function(e){if(0!==l&&c){var t=e.pageX-l;c.width(c.width()+t),h.width(h.width()-t),l=e.pageX}}).bind("mouseup.tsresize",function(){e.tablesorter.storage&&c&&(i[c.index()]=c.width(),i[h.index()]=h.width(),!1!==f.resizable&&e.tablesorter.storage(t,"tablesorter-resizable",i)),p()}).find(".tablesorter-resizer").bind("mousedown",function(t){c=e(t.target).parents("th:last"),h=c.next(),l=t.pageX}),u.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){p()}).bind("contextmenu.tsresize",function(){e.tablesorter.resizableReset(t);var n=e.isEmptyObject?e.isEmptyObject(i):i==={};return i={},n})}},remove:function(t){e(t).removeClass("hasResizable").find("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").find("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-wrapper").each(function(){e(this).find(".tablesorter-resizer").remove(),e(this).replaceWith(e(this).contents())}),e.tablesorter.resizableReset(t)}}),e.tablesorter.resizableReset=function(t){e(t.config.headerList).width("auto"),e.tablesorter.storage(t,"tablesorter-resizable",{})},e.tablesorter.addWidget({id:"saveSort",init:function(e,t){t.format(e,!0)},format:function(t,n){var r,i,s=t.config;r=!1!==s.widgetOptions.saveSort;var o={sortList:s.sortList};s.debug&&(i=new Date),e(t).hasClass("hasSaveSort")?r&&t.hasInitialized&&e.tablesorter.storage&&(e.tablesorter.storage(t,"tablesorter-savesort",o),s.debug&&e.tablesorter.benchmark("saveSort widget: Saving last sort: "+s.sortList,i)):(e(t).addClass("hasSaveSort"),o="",e.tablesorter.storage&&(o=(r=e.tablesorter.storage(t,"tablesorter-savesort"))&&r.hasOwnProperty("sortList")&&e.isArray(r.sortList)?r.sortList:"",s.debug&&e.tablesorter.benchmark('saveSort: Last sort loaded: "'+o+'"',i)),n&&o&&0<o.length?s.sortList=o:t.hasInitialized&&o&&0<o.length&&e(t).trigger("sorton",[o]))},remove:function(t){e.tablesorter.storage(t,"tablesorter-savesort","")}})})(jQuery);