- if @submission.assignment.is_individual? 
  = link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission), {:class => 'btn btn-info btn-small'}
- elsif @submission.assignment.has_groups? 
  = link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission), {:class => 'btn btn-info btn-small'}
- elsif @submission.assignment.has_teams? 
  = link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission, :gradeable_id => @submission.submittable, :gradeable_type => "Team"), {:class => 'btn btn-info btn-small'}
  = link_to 'Back', assignment_submissions_path(@assignment), {:class => 'btn btn-info btn-small'}
- elsif current_user.is_student?
  = link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission), {:class => 'btn btn-info btn-small'}
- elsif current_user.is_staff? 
  = link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission), {:class => 'btn btn-info btn-small'}

%p
  %b Assignment:
  - if current_user.is_staff?
    = link_to @submission.assignment.try(:name), @submission.assignment
  - else
    = @submission.assignment.try(:name)
- if @submission.assignment.is_individual? 
  %p
    %b User:
    - if current_user.is_staff?
      = link_to @submission.submittable.try(:name), @submission.submittable
    - else 
      = @submission.submittable.try(:name)
- elsif @submission.assignment.has_groups?
  %p
    %b Group:
    = link_to @submission.submittable.try(:name), assignment_group_path(@submission, @submission.submittable)
%p
  %b Submitted: 
  = @submission.created_at
%p
  %b Updated:
  = @submission.updated_at
%p
  %b Link:
  = link_to @submission.link, @submission.link
%p
  %b Comment:
  = raw @submission.text_comment

- if current_user.is_staff? 
  = render 'grade_form'