- if current_user.is_staff?
  = content_nav_for @assignment, Submission do
    %li= link_to 'See All Submissions', assignment_path(@assignment), :class => "btn btn-tiny btn-info"
    - if @assignment.is_individual?
      %li= link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission, :student_id => @submission.student_id), :class => "btn btn-tiny btn-info"
    - elsif @assignment.has_groups?
      %li= link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission, :group_id => @submission.group_id), :class => "btn btn-tiny btn-info"
    - if @assignment.grade_for_student(@submission.student) && @assignment.is_individual?
      %li= link_to 'Edit Grade', edit_assignment_grade_path(@assignment, @assignment.grade_for_student(@submission.student), :student_id => @submission.student_id), :class => "btn btn-tiny btn-info"
    - elsif @assignment.is_individual?
      %li= link_to 'Grade Submission', edit_assignment_grade_path("assignment_id"=>@assignment.id, :student_id => @submission.student.id), :class => 'btn btn-tiny btn-info'
    - if @assignment.has_groups?
      //%li= link_to 'Edit Grades', group_grade_assignment_path(@assignment, @assignment.grade_for_student(@submission.student), :student_id => @submission.student_id), :class => "btn btn-tiny btn-info"
      %li= link_to 'Grade Submission', group_grade_assignment_path("assignment_id"=>@assignment.id, :group_id => @submission.group.id), :class => 'btn btn-tiny btn-info'

    %li= link_to "Delete Submission", assignment_submission_path(@assignment, @submission), :class => "btn btn-tiny btn-info", :data => { confirm: 'Are you sure?' }, :method => :delete
- else
  = content_nav_for "My #{@assignment.name} Submission" do
    %li= link_to "My Dashboard", dashboard_path, :class => "btn btn-tiny btn-info"
    - if @assignment.is_individual?
      %li= link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission, :student_id => @submission.student_id), :class => "btn btn-tiny btn-info"
    - elsif @assignment.has_groups?
      %li= link_to 'Edit Submission', edit_assignment_submission_path(@assignment, @submission, :group_id => @submission.group_id), :class => "btn btn-tiny btn-info"


.col-lg-12.info
  %h3
    = link_to "#{@assignment.try(:name)}", @submission.assignment
  - if current_user.is_staff?
    %h4
      - if @assignment.is_individual?
        = "#{term_for :student}:"
        = link_to @submission.student.try(:name), student_path(@submission.student)
      - elsif @assignment.has_groups?
        = "#{term_for :group}:"
        = link_to @submission.group.try(:name), group_path(@submission.group)
  .col-lg-12
    .heading.col-lg-2 Submitted:
    .col-lg-offset-2= @submission.created_at
    - if @submission.updated_at != @submission.created_at
      .heading.col-lg-2 Updated:
      .col-lg-offset-2= @submission.updated_at
    - if @submission.link?
      .heading.col-lg-2 Link:
      .col-lg-offset-2
        = link_to @submission.link, @submission.link

    - if @submission.submission_files.present?
      .heading.col-lg-2 Files:
      - @submission.submission_files.each do |sf|
        .col-lg-offset-2= link_to File.basename(sf.filename.path), sf.filename.url

    .heading.col-lg-2 Statement:
    .col-lg-offset-2= raw @submission.text_comment

  - if @assignment.is_individual?
    = render 'individual_show'
  - elsif @assignment.has_groups?
    = render 'group_show'